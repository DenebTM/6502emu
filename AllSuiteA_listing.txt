
   1               ;	.ORG $4000

   2  FFFC                   * = $FFFC
   3  FFFC                   .WORD #$4000
   4  FFFE                   .WORD #$0000
   5  4000                   * = $4000
   6  4000         START     
   7                         ; EXPECTED FINAL RESULTS: $0210 = FF
   8                         ; (any other number will be the 
   9                         ;  test that failed)
  11                         ; initialize:
  12  4000                   LDA #$00
  13  4002                   STA $0210
  14                         ; store each test's expected
  15  4005                   LDA #$55
  16  4007                   STA $0200
  17  400A                   LDA #$AA
  18  400C                   STA $0201
  19  400F                   LDA #$FF
  20  4011                   STA $0202
  21  4014                   LDA #$6E
  22  4016                   STA $0203
  23  4019                   LDA #$42
  24  401B                   STA $0204
  25  401E                   LDA #$33
  26  4020                   STA $0205
  27  4023                   LDA #$9D
  28  4025                   STA $0206
  29  4028                   LDA #$7F
  30  402A                   STA $0207
  31  402D                   LDA #$A5
  32  402F                   STA $0208
  33  4032                   LDA #$1F
  34  4034                   STA $0209
  35  4037                   LDA #$CE
  36  4039                   STA $020A
  37  403C                   LDA #$29
  38  403E                   STA $020B
  39  4041                   LDA #$42
  40  4043                   STA $020C
  41  4046                   LDA #$6C
  42  4048                   STA $020D
  43  404B                   LDA #$42
  44  404D                   STA $020E
  47                         ; expected result: $022A = 0x55
  48  4050         TEST00    
  49  4050                   LDA #85
  50  4052                   LDX #42
  51  4054                   LDY #115
  52  4056                   STA $81
  53  4058                   LDA #$01
  54  405A                   STA $61
  55  405C                   LDA #$7E
  56  405E                   LDA $81
  57  4060                   STA $0910
  58  4063                   LDA #$7E
  59  4065                   LDA $0910
  60  4068                   STA $56,X
  61  406A                   LDA #$7E
  62  406C                   LDA $56,X
  63  406E                   STY $60
  64  4070                   STA ($60),Y
  65  4072                   LDA #$7E
  66  4074                   LDA ($60),Y
  67  4076                   STA $07FF,X
  68  4079                   LDA #$7E
  69  407B                   LDA $07FF,X
  70  407E                   STA $07FF,Y
  71  4081                   LDA #$7E
  72  4083                   LDA $07FF,Y
  73  4086                   STA ($36,X)
  74  4088                   LDA #$7E
  75  408A                   LDA ($36,X)
  76  408C                   STX $50
  77  408E                   LDX $60
  78  4090                   LDY $50
  79  4092                   STX $0913
  80  4095                   LDX #$22
  81  4097                   LDX $0913
  82  409A                   STY $0914
  83  409D                   LDY #$99
  84  409F                   LDY $0914
  85  40A2                   STY $2D,X
  86  40A4                   STX $77,Y
  87  40A6                   LDY #$99
  88  40A8                   LDY $2D,X
  89  40AA                   LDX #$22
  90  40AC                   LDX $77,Y
  91  40AE                   LDY #$99
  92  40B0                   LDY $08A0,X
  93  40B3                   LDX #$22
  94  40B5                   LDX $08A1,Y
  95  40B8                   STA $0200,X
  97                         ; CHECK test00:
  98  40BB                   LDA $022A
  99  40BE                   CMP $0200
 100  40C1                   BEQ TEST00PA
 101  40C3                   JMP THEEND
 102  40C6         TEST00PA  
 103  40C6                   LDA #$FE
 104  40C8                   STA $0210
 107                         ; expected result: $A9 = 0xAA
 108  40CB         TEST01    
 109                         ; imm
 110  40CB                   LDA #85
 111  40CD                   AND #83
 112  40CF                   ORA #56
 113  40D1                   EOR #17
 115                         ; zpg
 116  40D3                   STA $99
 117  40D5                   LDA #185
 118  40D7                   STA $10
 119  40D9                   LDA #231
 120  40DB                   STA $11
 121  40DD                   LDA #57
 122  40DF                   STA $12
 123  40E1                   LDA $99
 124  40E3                   AND $10
 125  40E5                   ORA $11
 126  40E7                   EOR $12
 128                         ; zpx
 129  40E9                   LDX #16
 130  40EB                   STA $99
 131  40ED                   LDA #188
 132  40EF                   STA $20
 133  40F1                   LDA #49
 134  40F3                   STA $21
 135  40F5                   LDA #23
 136  40F7                   STA $22
 137  40F9                   LDA $99
 138  40FB                   AND $10,X
 139  40FD                   ORA $11,X
 140  40FF                   EOR $12,X
 142                         ; abs
 143  4101                   STA $99
 144  4103                   LDA #111
 145  4105                   STA $0110
 146  4108                   LDA #60
 147  410A                   STA $0111
 148  410D                   LDA #39
 149  410F                   STA $0112
 150  4112                   LDA $99
 151  4114                   AND $0110
 152  4117                   ORA $0111
 153  411A                   EOR $0112
 155                         ; abx
 156  411D                   STA $99
 157  411F                   LDA #138
 158  4121                   STA $0120
 159  4124                   LDA #71
 160  4126                   STA $0121
 161  4129                   LDA #143
 162  412B                   STA $0122
 163  412E                   LDA $99
 164  4130                   AND $0110,X
 165  4133                   ORA $0111,X
 166  4136                   EOR $0112,X
 168                         ; aby
 169  4139                   LDY #32
 170  413B                   STA $99
 171  413D                   LDA #115
 172  413F                   STA $0130
 173  4142                   LDA #42
 174  4144                   STA $0131
 175  4147                   LDA #241
 176  4149                   STA $0132
 177  414C                   LDA $99
 178  414E                   AND $0110,Y
 179  4151                   ORA $0111,Y
 180  4154                   EOR $0112,Y
 182                         ; idx
 183  4157                   STA $99
 184  4159                   LDA #112
 185  415B                   STA $30
 186  415D                   LDA #$01
 187  415F                   STA $31
 188  4161                   LDA #113
 189  4163                   STA $32
 190  4165                   LDA #$01
 191  4167                   STA $33
 192  4169                   LDA #114
 193  416B                   STA $34
 194  416D                   LDA #$01
 195  416F                   STA $35
 196  4171                   LDA #197
 197  4173                   STA $0170
 198  4176                   LDA #124
 199  4178                   STA $0171
 200  417B                   LDA #161
 201  417D                   STA $0172
 202  4180                   LDA $99
 203  4182                   AND ($20,X)
 204  4184                   ORA ($22,X)
 205  4186                   EOR ($24,X)
 207                         ; idy
 208  4188                   STA $99
 209  418A                   LDA #96
 210  418C                   STA $40
 211  418E                   LDA #$01
 212  4190                   STA $41
 213  4192                   LDA #97
 214  4194                   STA $42
 215  4196                   LDA #$01
 216  4198                   STA $43
 217  419A                   LDA #98
 218  419C                   STA $44
 219  419E                   LDA #$01
 220  41A0                   STA $45
 221  41A2                   LDA #55
 222  41A4                   STA $0250
 223  41A7                   LDA #35
 224  41A9                   STA $0251
 225  41AC                   LDA #157
 226  41AE                   STA $0252
 227  41B1                   LDA $99
 228  41B3                   LDY #$F0
 229  41B5                   AND ($40),Y
 230  41B7                   ORA ($42),Y
 231  41B9                   EOR ($44),Y
 233  41BB                   STA $A9
 235                         ; CHECK test01
 236  41BD                   LDA $A9
 237  41BF                   CMP $0201
 238  41C2                   BEQ TEST02
 239  41C4                   LDA #$01
 240  41C6                   STA $0210
 241  41C9                   JMP THEEND
 244                         ; expected result: $71 = 0xFF
 245  41CC         TEST02    
 246  41CC                   LDA #$FF
 247  41CE                   LDX #$00
 249  41D0                   STA $90
 250  41D2                   INC $90
 251  41D4                   INC $90
 252  41D6                   LDA $90
 253  41D8                   LDX $90
 255  41DA                   STA $90,X
 256  41DC                   INC $90,X
 257  41DE                   LDA $90,X
 258  41E0                   LDX $91
 260  41E2                   STA $0190,X
 261  41E5                   INC $0192
 262  41E8                   LDA $0190,X
 263  41EB                   LDX $0192
 265  41EE                   STA $0190,X
 266  41F1                   INC $0190,X
 267  41F4                   LDA $0190,X
 268  41F7                   LDX $0193
 270  41FA                   STA $0170,X
 271  41FD                   DEC $0170,X
 272  4200                   LDA $0170,X
 273  4203                   LDX $0174
 275  4206                   STA $0170,X
 276  4209                   DEC $0173
 277  420C                   LDA $0170,X
 278  420F                   LDX $0173
 280  4212                   STA $70,X
 281  4214                   DEC $70,X
 282  4216                   LDA $70,X
 283  4218                   LDX $72
 285  421A                   STA $70,X
 286  421C                   DEC $71
 287  421E                   DEC $71
 289                         ; CHECK test02
 290  4220                   LDA $71
 291  4222                   CMP $0202
 292  4225                   BEQ TEST03
 293  4227                   LDA #$02
 294  4229                   STA $0210
 295  422C                   JMP THEEND
 298                         ; expected result: $01DD = 0x6E
 299  422F         TEST03    
 300  422F                   LDA #$4B
 301  4231                   LSR
 302  4232                   ASL
 304  4233                   STA $50
 305  4235                   ASL $50
 306  4237                   ASL $50
 307  4239                   LSR $50
 308  423B                   LDA $50
 310  423D                   LDX $50
 311  423F                   ORA #$C9
 312  4241                   STA $60
 313  4243                   ASL $4C,X
 314  4245                   LSR $4C,X
 315  4247                   LSR $4C,X
 316  4249                   LDA $4C,X
 318  424B                   LDX $60
 319  424D                   ORA #$41
 320  424F                   STA $012E
 321  4252                   LSR $0100,X
 322  4255                   LSR $0100,X
 323  4258                   ASL $0100,X
 324  425B                   LDA $0100,X
 326  425E                   LDX $012E
 327  4261                   ORA #$81
 328  4263                   STA $0100,X
 329  4266                   LSR $0136
 330  4269                   LSR $0136
 331  426C                   ASL $0136
 332  426F                   LDA $0100,X
 334                         ; rol & ror
 336  4272                   ROL
 337  4273                   ROL
 338  4274                   ROR
 339  4275                   STA $70
 341  4277                   LDX $70
 342  4279                   ORA #$03
 343  427B                   STA $0C,X
 344  427D                   ROL $C0
 345  427F                   ROR $C0
 346  4281                   ROR $C0
 347  4283                   LDA $0C,X
 349  4285                   LDX $C0
 350  4287                   STA $D0
 351  4289                   ROL $75,X
 352  428B                   ROL $75,X
 353  428D                   ROR $75,X
 354  428F                   LDA $D0
 356  4291                   LDX $D0
 357  4293                   STA $0100,X
 358  4296                   ROL $01B7
 359  4299                   ROL $01B7
 360  429C                   ROL $01B7
 361  429F                   ROR $01B7
 362  42A2                   LDA $0100,X
 364  42A5                   LDX $01B7
 365  42A8                   STA $01DD
 366  42AB                   ROL $0100,X
 367  42AE                   ROR $0100,X
 368  42B1                   ROR $0100,X
 370                         ; CHECK test03
 371  42B4                   LDA $01DD
 372  42B7                   CMP $0203
 373  42BA                   BEQ TEST04
 374  42BC                   LDA #$03
 375  42BE                   STA $0210
 376  42C1                   JMP THEEND
 379                         ; expected result: $40 = 0x42
 380  42C4         TEST04    
 381  42C4                   LDA #$E8 ;originally:#$7C
 382  42C6                   STA $20
 383  42C8                   LDA #$42 ;originally:#$02
 384  42CA                   STA $21
 385  42CC                   LDA #$00
 386  42CE                   ORA #$03
 387  42D0                   JMP JUMP1
 388  42D3                   ORA #$FF ; not done
 389  42D5         JUMP1     
 390  42D5                   ORA #$30
 391  42D7                   JSR SUBR
 392  42DA                   ORA #$42
 393  42DC                   JMP ($0020)
 394  42DF                   ORA #$FF ; not done
 395  42E1         SUBR      
 396  42E1                   STA $30
 397  42E3                   LDX $30
 398  42E5                   LDA #$00
 399  42E7                   RTS
 400  42E8         FINAL     
 401  42E8                   STA $0D,X
 403                         ; CHECK test04
 404  42EA                   LDA $40
 405  42EC                   CMP $0204
 406  42EF                   BEQ TEST05
 407  42F1                   LDA #$04
 408  42F3                   STA $0210
 409  42F6                   JMP THEEND
 412                         ; expected result: $40 = 0x33
 413  42F9         TEST05    
 414  42F9                   LDA #$35
 416  42FB                   TAX
 417  42FC                   DEX
 418  42FD                   DEX
 419  42FE                   INX
 420  42FF                   TXA
 422  4300                   TAY
 423  4301                   DEY
 424  4302                   DEY
 425  4303                   INY
 426  4304                   TYA
 428  4305                   TAX
 429  4306                   LDA #$20
 430  4308                   TXS
 431  4309                   LDX #$10
 432  430B                   TSX
 433  430C                   TXA
 435  430D                   STA $40
 437                         ; CHECK test05
 438  430F                   LDA $40
 439  4311                   CMP $0205
 440  4314                   BEQ TEST06
 441  4316                   LDA #$05
 442  4318                   STA $0210
 443  431B                   JMP THEEND
 446                         ; expected result: $30 = 9D
 447  431E         TEST06    
 449                         ; RESET TO CARRY FLAG = 0
 450  431E                   ROL
 452  431F                   LDA #$6A
 453  4321                   STA $50
 454  4323                   LDA #$6B
 455  4325                   STA $51
 456  4327                   LDA #$A1
 457  4329                   STA $60
 458  432B                   LDA #$A2
 459  432D                   STA $61
 461  432F                   LDA #$FF
 462  4331                   ADC #$FF
 463  4333                   ADC #$FF
 464  4335                   SBC #$AE
 466  4337                   STA $40
 467  4339                   LDX $40
 468  433B                   ADC $00,X
 469  433D                   SBC $01,X
 471  433F                   ADC $60
 472  4341                   SBC $61
 474  4343                   STA $0120
 475  4346                   LDA #$4D
 476  4348                   STA $0121
 477  434B                   LDA #$23
 478  434D                   ADC $0120
 479  4350                   SBC $0121
 481  4353                   STA $F0
 482  4355                   LDX $F0
 483  4357                   LDA #$64
 484  4359                   STA $0124
 485  435C                   LDA #$62
 486  435E                   STA $0125
 487  4361                   LDA #$26
 488  4363                   ADC $0100,X
 489  4366                   SBC $0101,X
 491  4369                   STA $F1
 492  436B                   LDY $F1
 493  436D                   LDA #$E5
 494  436F                   STA $0128
 495  4372                   LDA #$E9
 496  4374                   STA $0129
 497  4377                   LDA #$34
 498  4379                   ADC $0100,Y
 499  437C                   SBC $0101,Y
 501  437F                   STA $F2
 502  4381                   LDX $F2
 503  4383                   LDA #$20
 504  4385                   STA $70
 505  4387                   LDA #$01
 506  4389                   STA $71
 507  438B                   LDA #$24
 508  438D                   STA $72
 509  438F                   LDA #$01
 510  4391                   STA $73
 511  4393                   ADC ($41,X)
 512  4395                   SBC ($3F,X)
 514  4397                   STA $F3
 515  4399                   LDY $F3
 516  439B                   LDA #$DA
 517  439D                   STA $80
 518  439F                   LDA #$00
 519  43A1                   STA $81
 520  43A3                   LDA #$DC
 521  43A5                   STA $82
 522  43A7                   LDA #$00
 523  43A9                   STA $83
 524  43AB                   LDA #$AA
 525  43AD                   ADC ($80),Y
 526  43AF                   SBC ($82),Y
 527  43B1                   STA $30
 529                         ; CHECK test06
 530  43B3                   LDA $30
 531  43B5                   CMP $0206
 532  43B8                   BEQ TEST07
 533  43BA                   LDA #$06
 534  43BC                   STA $0210
 535  43BF                   JMP THEEND
 538                         ; expected result: $15 = 0x7F
 539  43C2         TEST07    
 540                         ; prepare memory	
 541  43C2                   LDA #$00
 542  43C4                   STA $34
 543  43C6                   LDA #$FF
 544  43C8                   STA $0130
 545  43CB                   LDA #$99
 546  43CD                   STA $019D
 547  43D0                   LDA #$DB
 548  43D2                   STA $0199
 549  43D5                   LDA #$2F
 550  43D7                   STA $32
 551  43D9                   LDA #$32
 552  43DB                   STA $4F
 553  43DD                   LDA #$30
 554  43DF                   STA $33
 555  43E1                   LDA #$70
 556  43E3                   STA $AF
 557  43E5                   LDA #$18
 558  43E7                   STA $30
 560                         ; imm
 561  43E9                   CMP #$18
 562  43EB                   BEQ BEQ1 ; taken
 563  43ED                   AND #$00 ; not done
 564  43EF         BEQ1      
 565                         ; zpg
 566  43EF                   ORA #$01
 567  43F1                   CMP $30
 568  43F3                   BNE BNE1 ; taken
 569  43F5                   AND #$00 ; not done
 570  43F7         BNE1      
 571                         ; abs
 572  43F7                   LDX #$00
 573  43F9                   CMP $0130
 574  43FC                   BEQ BEQ2 ; not taken
 575  43FE                   STA $40
 576  4400                   LDX $40
 577  4402         BEQ2      
 578                         ; zpx
 579  4402                   CMP $27,X
 580  4404                   BNE BNE2 ; not taken
 581  4406                   ORA #$84
 582  4408                   STA $41
 583  440A                   LDX $41
 584  440C         BNE2      
 585                         ; abx
 586  440C                   AND #$DB
 587  440E                   CMP $0100,X
 588  4411                   BEQ BEQ3 ; taken
 589  4413                   AND #$00 ; not done
 590  4415         BEQ3      
 591                         ; aby
 592  4415                   STA $42
 593  4417                   LDY $42
 594  4419                   AND #$00
 595  441B                   CMP $0100,Y
 596  441E                   BNE BNE3 ; taken
 597  4420                   ORA #$0F ; not done
 598  4422         BNE3      
 599                         ; idx
 600  4422                   STA $43
 601  4424                   LDX $43
 602  4426                   ORA #$24
 603  4428                   CMP ($40,X)
 604  442A                   BEQ BEQ4 ; not taken
 605  442C                   ORA #$7F
 606  442E         BEQ4      
 607                         ; idy
 608  442E                   STA $44
 609  4430                   LDY $44
 610  4432                   EOR #$0F
 611  4434                   CMP ($33),Y
 612  4436                   BNE BNE4 ; not taken
 613  4438                   LDA $44
 614  443A                   STA $15
 615  443C         BNE4      
 617                         ; CHECK test07
 618  443C                   LDA $15
 619  443E                   CMP $0207
 620  4441                   BEQ TEST08
 621  4443                   LDA #$07
 622  4445                   STA $0210
 623  4448                   JMP THEEND
 626                         ; expected result: $42 = 0xA5
 627  444B         TEST08    
 628                         ; prepare memory
 629  444B                   LDA #$A5
 630  444D                   STA $20
 631  444F                   STA $0120
 632  4452                   LDA #$5A
 633  4454                   STA $21
 635                         ; cpx imm...
 636  4456                   LDX #$A5
 637  4458                   CPX #$A5
 638  445A                   BEQ B1 ; taken
 639  445C                   LDX #$01 ; not done
 640  445E         B1        
 641                         ; cpx zpg...
 642  445E                   CPX $20
 643  4460                   BEQ B2 ; taken
 644  4462                   LDX #$02 ; not done
 645  4464         B2        
 646                         ; cpx abs...
 647  4464                   CPX $0120
 648  4467                   BEQ B3 ; taken
 649  4469                   LDX #$03 ; not done
 650  446B         B3        
 651                         ; cpy imm...
 652  446B                   STX $30
 653  446D                   LDY $30
 654  446F                   CPY #$A5
 655  4471                   BEQ B4 ; taken
 656  4473                   LDY #$04 ; not done
 657  4475         B4        
 658                         ; cpy zpg...
 659  4475                   CPY $20
 660  4477                   BEQ B5 ; taken
 661  4479                   LDY #$05 ; not done
 662  447B         B5        
 663                         ; cpy abs...
 664  447B                   CPY $0120
 665  447E                   BEQ B6 ; taken
 666  4480                   LDY #$06 ; not done
 667  4482         B6        
 668                         ; bit zpg...
 669  4482                   STY $31
 670  4484                   LDA $31
 671  4486                   BIT $20
 672  4488                   BNE B7 ; taken
 673  448A                   LDA #$07 ; not done
 674  448C         B7        
 675                         ; bit abs...
 676  448C                   BIT $0120
 677  448F                   BNE B8 ; taken
 678  4491                   LDA #$08 ; not done
 679  4493         B8        
 680  4493                   BIT $21
 681  4495                   BNE B9 ; not taken
 682  4497                   STA $42
 683  4499         B9        
 685                         ; CHECK test08
 686  4499                   LDA $42
 687  449B                   CMP $0208
 688  449E                   BEQ TEST09
 689  44A0                   LDA #$08
 690  44A2                   STA $0210
 691  44A5                   JMP THEEND
 694                         ; expected result: $80 = 0x1F
 695  44A8         TEST09    
 696                         ; prepare memory
 697  44A8                   LDA #$54
 698  44AA                   STA $32
 699  44AC                   LDA #$B3
 700  44AE                   STA $A1
 701  44B0                   LDA #$87
 702  44B2                   STA $43
 704                         ; BPL
 705  44B4                   LDX #$A1
 706  44B6                   BPL BPL1 ; not taken
 707  44B8                   LDX #$32
 708  44BA         BPL1      
 709  44BA                   LDY $00,X
 710  44BC                   BPL BPL2 ; taken
 711  44BE                   LDA #$05 ; not done
 712  44C0                   LDX $A1 ; not done
 713  44C2         BPL2      
 715                         ; BMI
 716  44C2                   BMI BMI1 ; not taken
 717  44C4                   SBC #$03
 718  44C6         BMI1      
 719  44C6                   BMI BMI2 ; taken
 720  44C8                   LDA #$41 ; not done
 721  44CA         BMI2      
 723                         ; BVC
 724  44CA                   EOR #$30
 725  44CC                   STA $32
 726  44CE                   ADC $00,X
 727  44D0                   BVC BVC1 ; not taken
 728  44D2                   LDA #$03
 729  44D4         BVC1      
 730  44D4                   STA $54
 731  44D6                   LDX $00,Y
 732  44D8                   ADC $51,X
 733  44DA                   BVC BVC2 ; taken
 734  44DC                   LDA #$E5 ; not done
 735  44DE         BVC2      
 737                         ; BVS
 738  44DE                   ADC $40,X
 739  44E0                   BVS BVS1 ; not taken
 740  44E2                   STA $0001,Y
 741  44E5                   ADC $55
 742  44E7         BVS1      
 743  44E7                   BVS BVS2 ; taken
 744  44E9                   LDA #$00
 745  44EB         BVS2      
 747                         ; BCC
 748  44EB                   ADC #$F0
 749  44ED                   BCC BCC1 ; not taken
 750  44EF                   STA $60
 751  44F1                   ADC $43
 752  44F3         BCC1      
 753  44F3                   BCC BCC2 ; taken
 754  44F5                   LDA #$FF
 755  44F7         BCC2      
 757                         ; BCS
 758  44F7                   ADC $54
 759  44F9                   BCS BCS1 ; not taken
 760  44FB                   ADC #$87
 761  44FD                   LDX $60
 762  44FF         BCS1      
 763  44FF                   BCS BCS2 ; taken
 764  4501                   LDA #$00 ; not done
 765  4503         BCS2      
 766  4503                   STA $73,X
 768                         ; CHECK test09
 769  4505                   LDA $80
 770  4507                   CMP $0209
 771  450A                   BEQ TEST10
 772  450C                   LDA #$09
 773  450E                   STA $0210
 774  4511                   JMP THEEND
 777                         ; expected result: $30 = 0xCE
 778  4514         TEST10    
 780                         ; RESET TO CARRY = 0 & OVERFLOW = 0
 781  4514                   ADC #$00
 783  4516                   LDA #$99
 784  4518                   ADC #$87
 785  451A                   CLC
 786  451B                   NOP
 787  451C                   BCC T10BCC1 ; taken
 788  451E                   ADC #$60 ; not done
 789  4520                   ADC #$93 ; not done
 790  4522         T10BCC1   
 791  4522                   SEC
 792  4523                   NOP
 793  4524                   BCC T10BCC2 ; not taken
 794  4526                   CLV
 795  4527         T10BCC2   
 796  4527                   BVC T10BVC1 ; taken
 797  4529                   LDA #$00 ; not done
 798  452B         T10BVC1   
 799  452B                   ADC #$AD
 800  452D                   NOP
 801  452E                   STA $30
 803                         ; CHECK test10
 804  4530                   LDA $30
 805  4532                   CMP $020A
 806  4535                   BEQ TEST11
 807  4537                   LDA #$0A
 808  4539                   STA $0210
 809  453C                   JMP THEEND
 812                         ; expected result: $30 = 0x29
 813  453F         TEST11    
 815                         ; RESET TO CARRY = 0 & ZERO = 0
 816  453F                   ADC #$01
 818  4541                   LDA #$27
 819  4543                   ADC #$01
 820  4545                   SEC
 821  4546                   PHP
 822  4547                   CLC
 823  4548                   PLP
 824  4549                   ADC #$00
 825  454B                   PHA
 826  454C                   LDA #$00
 827  454E                   PLA
 828  454F                   STA $30
 830                         ; CHECK test11
 831  4551                   LDA $30
 832  4553                   CMP $020B
 833  4556                   BEQ TEST12
 834  4558                   LDA #$0B
 835  455A                   STA $0210
 836  455D                   JMP THEEND
 839                         ; expected result: $33 = 0x42
 840  4560         TEST12    
 841  4560                   CLC
 842  4561                   LDA #$42
 843  4563                   BCC RUNSTUFF
 844  4565                   STA $33
 845  4567                   BCS T12END
 846  4569         RUNSTUFF  
 847  4569                   LDA #$45
 848  456B                   PHA
 849  456C                   LDA #$61
 850  456E                   PHA
 851  456F                   SEC
 852  4570                   PHP
 853  4571                   CLC
 854  4572                   RTI
 855  4573         T12END    
 857                         ; CHECK test12
 858  4573                   LDA $33
 859  4575                   CMP $020C
 860  4578                   BEQ TEST13
 861  457A                   LDA #$0C
 862  457C                   STA $0210
 863  457F                   JMP THEEND
 866                         ; expected result: $21 = 0x6C (simulator)
 867                         ;                  $21 = 0x0C (ours)
 868  4582         TEST13    
 870                         ; RESET TO CARRY = 0 & ZERO = 0
 871  4582                   ADC #$01
 873  4584                   SEI
 874  4585                   SED
 875  4586                   PHP
 876  4587                   PLA
 877  4588                   STA $20
 878  458A                   CLI
 879  458B                   CLD
 880  458C                   PHP
 881  458D                   PLA
 882  458E                   ADC $20
 883  4590                   STA $21
 885                         ; CHECK test13
 886  4592                   LDA $21
 887  4594                   CMP $020D
 888  4597                   BEQ TEST14
 889  4599                   LDA #$0D
 890  459B                   STA $0210
 891  459E                   JMP THEEND
 894                         ; expect result: $60 = 0x42
 895  45A1         TEST14    
 896                         ; !!! NOTICE: BRK doesn't work in this
 897                         ; simulator, so commented instructions 
 898                         ; are what should be executed...
 899                         ;JMP pass_intrp
 900  45A1                   LDA #$41
 901  45A3                   STA $60
 902                         ;RTI
 903                         ;pass_intrp:
 904                         ;LDA #$FF
 905                         ;STA $60
 906                         ;BRK (two Bytes)
 907  45A5                   INC $60
 909                         ; CHECK test14
 910  45A7                   LDA $60
 911  45A9                   CMP $020E
 912  45AC                   BEQ SUITEAFI
 913  45AE                   LDA #$0E
 914  45B0                   STA $0210
 915  45B3                   JMP THEEND
 917  45B6         SUITEAFI  
 918                         ; IF $0210 == 0xFE, INCREMENT
 919                         ; (checking that it didn't 
 920                         ;  happen to wander off and 
 921                         ;  not run our instructions
 922                         ;  to say which tests failed...)
 923  45B6                   LDA #$FE
 924  45B8                   CMP $0210
 925  45BB                   BNE THEEND
 926  45BD                   INC $0210
 927  45C0         THEEND    
 928  45C0                   JMP THEEND

symbols
 B1         $445E
 B2         $4464
 B3         $446B
 B4         $4475
 B5         $447B
 B6         $4482
 B7         $448C
 B8         $4493
 B9         $4499
 BCC1       $44F3
 BCC2       $44F7
 BCS1       $44FF
 BCS2       $4503
 BEQ1       $43EF
 BEQ2       $4402
 BEQ3       $4415
 BEQ4       $442E
 BMI1       $44C6
 BMI2       $44CA
 BNE1       $43F7
 BNE2       $440C
 BNE3       $4422
 BNE4       $443C
 BPL1       $44BA
 BPL2       $44C2
 BVC1       $44D4
 BVC2       $44DE
 BVS1       $44E7
 BVS2       $44EB
 FINAL      $42E8
 JUMP1      $42D5
 RUNSTUFF   $4569
 START      $4000
 SUBR       $42E1
 SUITEAFI   $45B6
 T10BCC1    $4522
 T10BCC2    $4527
 T10BVC1    $452B
 T12END     $4573
 TEST00     $4050
 TEST00PA   $40C6
 TEST01     $40CB
 TEST02     $41CC
 TEST03     $422F
 TEST04     $42C4
 TEST05     $42F9
 TEST06     $431E
 TEST07     $43C2
 TEST08     $444B
 TEST09     $44A8
 TEST10     $4514
 TEST11     $453F
 TEST12     $4560
 TEST13     $4582
 TEST14     $45A1
 THEEND     $45C0

pass 2

LOC   CODE         LABEL     INSTRUCTION

                   ;	.ORG $4000

FFFC                         * = $FFFC
FFFC  00 40                  .EQUW $4000
FFFE  00 00                  .EQUW $0000
4000                         * = $4000
4000               START     
                             ; EXPECTED FINAL RESULTS: $0210 = FF
                             ; (any other number will be the 
                             ;  test that failed)
                             ; initialize:
4000  A9 00                  LDA #$00
4002  8D 10 02               STA $0210
                             ; store each test's expected
4005  A9 55                  LDA #$55
4007  8D 00 02               STA $0200
400A  A9 AA                  LDA #$AA
400C  8D 01 02               STA $0201
400F  A9 FF                  LDA #$FF
4011  8D 02 02               STA $0202
4014  A9 6E                  LDA #$6E
4016  8D 03 02               STA $0203
4019  A9 42                  LDA #$42
401B  8D 04 02               STA $0204
401E  A9 33                  LDA #$33
4020  8D 05 02               STA $0205
4023  A9 9D                  LDA #$9D
4025  8D 06 02               STA $0206
4028  A9 7F                  LDA #$7F
402A  8D 07 02               STA $0207
402D  A9 A5                  LDA #$A5
402F  8D 08 02               STA $0208
4032  A9 1F                  LDA #$1F
4034  8D 09 02               STA $0209
4037  A9 CE                  LDA #$CE
4039  8D 0A 02               STA $020A
403C  A9 29                  LDA #$29
403E  8D 0B 02               STA $020B
4041  A9 42                  LDA #$42
4043  8D 0C 02               STA $020C
4046  A9 6C                  LDA #$6C
4048  8D 0D 02               STA $020D
404B  A9 42                  LDA #$42
404D  8D 0E 02               STA $020E
                             ; expected result: $022A = 0x55
4050               TEST00    
4050  A9 55                  LDA #$55
4052  A2 2A                  LDX #$2A
4054  A0 73                  LDY #$73
4056  85 81                  STA $81
4058  A9 01                  LDA #$01
405A  85 61                  STA $61
405C  A9 7E                  LDA #$7E
405E  A5 81                  LDA $81
4060  8D 10 09               STA $0910
4063  A9 7E                  LDA #$7E
4065  AD 10 09               LDA $0910
4068  95 56                  STA $56,X
406A  A9 7E                  LDA #$7E
406C  B5 56                  LDA $56,X
406E  84 60                  STY $60
4070  91 60                  STA ($60),Y
4072  A9 7E                  LDA #$7E
4074  B1 60                  LDA ($60),Y
4076  9D FF 07               STA $07FF,X
4079  A9 7E                  LDA #$7E
407B  BD FF 07               LDA $07FF,X
407E  99 FF 07               STA $07FF,Y
4081  A9 7E                  LDA #$7E
4083  B9 FF 07               LDA $07FF,Y
4086  81 36                  STA ($36,X)
4088  A9 7E                  LDA #$7E
408A  A1 36                  LDA ($36,X)
408C  86 50                  STX $50
408E  A6 60                  LDX $60
4090  A4 50                  LDY $50
4092  8E 13 09               STX $0913
4095  A2 22                  LDX #$22
4097  AE 13 09               LDX $0913
409A  8C 14 09               STY $0914
409D  A0 99                  LDY #$99
409F  AC 14 09               LDY $0914
40A2  94 2D                  STY $2D,X
40A4  96 77                  STX $77,Y
40A6  A0 99                  LDY #$99
40A8  B4 2D                  LDY $2D,X
40AA  A2 22                  LDX #$22
40AC  B6 77                  LDX $77,Y
40AE  A0 99                  LDY #$99
40B0  BC A0 08               LDY $08A0,X
40B3  A2 22                  LDX #$22
40B5  BE A1 08               LDX $08A1,Y
40B8  9D 00 02               STA $0200,X
                             ; CHECK test00:
40BB  AD 2A 02               LDA $022A
40BE  CD 00 02               CMP $0200
40C1  F0 03                  BEQ $40C6
40C3  4C C0 45               JMP $45C0
40C6               TEST00PA  
40C6  A9 FE                  LDA #$FE
40C8  8D 10 02               STA $0210
                             ; expected result: $A9 = 0xAA
40CB               TEST01    
                             ; imm
40CB  A9 55                  LDA #$55
40CD  29 53                  AND #$53
40CF  09 38                  ORA #$38
40D1  49 11                  EOR #$11
                             ; zpg
40D3  85 99                  STA $99
40D5  A9 B9                  LDA #$B9
40D7  85 10                  STA $10
40D9  A9 E7                  LDA #$E7
40DB  85 11                  STA $11
40DD  A9 39                  LDA #$39
40DF  85 12                  STA $12
40E1  A5 99                  LDA $99
40E3  25 10                  AND $10
40E5  05 11                  ORA $11
40E7  45 12                  EOR $12
                             ; zpx
40E9  A2 10                  LDX #$10
40EB  85 99                  STA $99
40ED  A9 BC                  LDA #$BC
40EF  85 20                  STA $20
40F1  A9 31                  LDA #$31
40F3  85 21                  STA $21
40F5  A9 17                  LDA #$17
40F7  85 22                  STA $22
40F9  A5 99                  LDA $99
40FB  35 10                  AND $10,X
40FD  15 11                  ORA $11,X
40FF  55 12                  EOR $12,X
                             ; abs
4101  85 99                  STA $99
4103  A9 6F                  LDA #$6F
4105  8D 10 01               STA $0110
4108  A9 3C                  LDA #$3C
410A  8D 11 01               STA $0111
410D  A9 27                  LDA #$27
410F  8D 12 01               STA $0112
4112  A5 99                  LDA $99
4114  2D 10 01               AND $0110
4117  0D 11 01               ORA $0111
411A  4D 12 01               EOR $0112
                             ; abx
411D  85 99                  STA $99
411F  A9 8A                  LDA #$8A
4121  8D 20 01               STA $0120
4124  A9 47                  LDA #$47
4126  8D 21 01               STA $0121
4129  A9 8F                  LDA #$8F
412B  8D 22 01               STA $0122
412E  A5 99                  LDA $99
4130  3D 10 01               AND $0110,X
4133  1D 11 01               ORA $0111,X
4136  5D 12 01               EOR $0112,X
                             ; aby
4139  A0 20                  LDY #$20
413B  85 99                  STA $99
413D  A9 73                  LDA #$73
413F  8D 30 01               STA $0130
4142  A9 2A                  LDA #$2A
4144  8D 31 01               STA $0131
4147  A9 F1                  LDA #$F1
4149  8D 32 01               STA $0132
414C  A5 99                  LDA $99
414E  39 10 01               AND $0110,Y
4151  19 11 01               ORA $0111,Y
4154  59 12 01               EOR $0112,Y
                             ; idx
4157  85 99                  STA $99
4159  A9 70                  LDA #$70
415B  85 30                  STA $30
415D  A9 01                  LDA #$01
415F  85 31                  STA $31
4161  A9 71                  LDA #$71
4163  85 32                  STA $32
4165  A9 01                  LDA #$01
4167  85 33                  STA $33
4169  A9 72                  LDA #$72
416B  85 34                  STA $34
416D  A9 01                  LDA #$01
416F  85 35                  STA $35
4171  A9 C5                  LDA #$C5
4173  8D 70 01               STA $0170
4176  A9 7C                  LDA #$7C
4178  8D 71 01               STA $0171
417B  A9 A1                  LDA #$A1
417D  8D 72 01               STA $0172
4180  A5 99                  LDA $99
4182  21 20                  AND ($20,X)
4184  01 22                  ORA ($22,X)
4186  41 24                  EOR ($24,X)
                             ; idy
4188  85 99                  STA $99
418A  A9 60                  LDA #$60
418C  85 40                  STA $40
418E  A9 01                  LDA #$01
4190  85 41                  STA $41
4192  A9 61                  LDA #$61
4194  85 42                  STA $42
4196  A9 01                  LDA #$01
4198  85 43                  STA $43
419A  A9 62                  LDA #$62
419C  85 44                  STA $44
419E  A9 01                  LDA #$01
41A0  85 45                  STA $45
41A2  A9 37                  LDA #$37
41A4  8D 50 02               STA $0250
41A7  A9 23                  LDA #$23
41A9  8D 51 02               STA $0251
41AC  A9 9D                  LDA #$9D
41AE  8D 52 02               STA $0252
41B1  A5 99                  LDA $99
41B3  A0 F0                  LDY #$F0
41B5  31 40                  AND ($40),Y
41B7  11 42                  ORA ($42),Y
41B9  51 44                  EOR ($44),Y
41BB  85 A9                  STA $A9
                             ; CHECK test01
41BD  A5 A9                  LDA $A9
41BF  CD 01 02               CMP $0201
41C2  F0 08                  BEQ $41CC
41C4  A9 01                  LDA #$01
41C6  8D 10 02               STA $0210
41C9  4C C0 45               JMP $45C0
                             ; expected result: $71 = 0xFF
41CC               TEST02    
41CC  A9 FF                  LDA #$FF
41CE  A2 00                  LDX #$00
41D0  85 90                  STA $90
41D2  E6 90                  INC $90
41D4  E6 90                  INC $90
41D6  A5 90                  LDA $90
41D8  A6 90                  LDX $90
41DA  95 90                  STA $90,X
41DC  F6 90                  INC $90,X
41DE  B5 90                  LDA $90,X
41E0  A6 91                  LDX $91
41E2  9D 90 01               STA $0190,X
41E5  EE 92 01               INC $0192
41E8  BD 90 01               LDA $0190,X
41EB  AE 92 01               LDX $0192
41EE  9D 90 01               STA $0190,X
41F1  FE 90 01               INC $0190,X
41F4  BD 90 01               LDA $0190,X
41F7  AE 93 01               LDX $0193
41FA  9D 70 01               STA $0170,X
41FD  DE 70 01               DEC $0170,X
4200  BD 70 01               LDA $0170,X
4203  AE 74 01               LDX $0174
4206  9D 70 01               STA $0170,X
4209  CE 73 01               DEC $0173
420C  BD 70 01               LDA $0170,X
420F  AE 73 01               LDX $0173
4212  95 70                  STA $70,X
4214  D6 70                  DEC $70,X
4216  B5 70                  LDA $70,X
4218  A6 72                  LDX $72
421A  95 70                  STA $70,X
421C  C6 71                  DEC $71
421E  C6 71                  DEC $71
                             ; CHECK test02
4220  A5 71                  LDA $71
4222  CD 02 02               CMP $0202
4225  F0 08                  BEQ $422F
4227  A9 02                  LDA #$02
4229  8D 10 02               STA $0210
422C  4C C0 45               JMP $45C0
                             ; expected result: $01DD = 0x6E
422F               TEST03    
422F  A9 4B                  LDA #$4B
4231  4A                     LSR A
4232  0A                     ASL A
4233  85 50                  STA $50
4235  06 50                  ASL $50
4237  06 50                  ASL $50
4239  46 50                  LSR $50
423B  A5 50                  LDA $50
423D  A6 50                  LDX $50
423F  09 C9                  ORA #$C9
4241  85 60                  STA $60
4243  16 4C                  ASL $4C,X
4245  56 4C                  LSR $4C,X
4247  56 4C                  LSR $4C,X
4249  B5 4C                  LDA $4C,X
424B  A6 60                  LDX $60
424D  09 41                  ORA #$41
424F  8D 2E 01               STA $012E
4252  5E 00 01               LSR $0100,X
4255  5E 00 01               LSR $0100,X
4258  1E 00 01               ASL $0100,X
425B  BD 00 01               LDA $0100,X
425E  AE 2E 01               LDX $012E
4261  09 81                  ORA #$81
4263  9D 00 01               STA $0100,X
4266  4E 36 01               LSR $0136
4269  4E 36 01               LSR $0136
426C  0E 36 01               ASL $0136
426F  BD 00 01               LDA $0100,X
                             ; rol & ror
4272  2A                     ROL A
4273  2A                     ROL A
4274  6A                     ROR A
4275  85 70                  STA $70
4277  A6 70                  LDX $70
4279  09 03                  ORA #$03
427B  95 0C                  STA $0C,X
427D  26 C0                  ROL $C0
427F  66 C0                  ROR $C0
4281  66 C0                  ROR $C0
4283  B5 0C                  LDA $0C,X
4285  A6 C0                  LDX $C0
4287  85 D0                  STA $D0
4289  36 75                  ROL $75,X
428B  36 75                  ROL $75,X
428D  76 75                  ROR $75,X
428F  A5 D0                  LDA $D0
4291  A6 D0                  LDX $D0
4293  9D 00 01               STA $0100,X
4296  2E B7 01               ROL $01B7
4299  2E B7 01               ROL $01B7
429C  2E B7 01               ROL $01B7
429F  6E B7 01               ROR $01B7
42A2  BD 00 01               LDA $0100,X
42A5  AE B7 01               LDX $01B7
42A8  8D DD 01               STA $01DD
42AB  3E 00 01               ROL $0100,X
42AE  7E 00 01               ROR $0100,X
42B1  7E 00 01               ROR $0100,X
                             ; CHECK test03
42B4  AD DD 01               LDA $01DD
42B7  CD 03 02               CMP $0203
42BA  F0 08                  BEQ $42C4
42BC  A9 03                  LDA #$03
42BE  8D 10 02               STA $0210
42C1  4C C0 45               JMP $45C0
                             ; expected result: $40 = 0x42
42C4               TEST04    
42C4  A9 E8                  LDA #$E8 ;originally:#$7C
42C6  85 20                  STA $20
42C8  A9 42                  LDA #$42 ;originally:#$02
42CA  85 21                  STA $21
42CC  A9 00                  LDA #$00
42CE  09 03                  ORA #$03
42D0  4C D5 42               JMP $42D5
42D3  09 FF                  ORA #$FF ; not done
42D5               JUMP1     
42D5  09 30                  ORA #$30
42D7  20 E1 42               JSR $42E1
42DA  09 42                  ORA #$42
42DC  6C 20 00               JMP ($0020)
42DF  09 FF                  ORA #$FF ; not done
42E1               SUBR      
42E1  85 30                  STA $30
42E3  A6 30                  LDX $30
42E5  A9 00                  LDA #$00
42E7  60                     RTS
42E8               FINAL     
42E8  95 0D                  STA $0D,X
                             ; CHECK test04
42EA  A5 40                  LDA $40
42EC  CD 04 02               CMP $0204
42EF  F0 08                  BEQ $42F9
42F1  A9 04                  LDA #$04
42F3  8D 10 02               STA $0210
42F6  4C C0 45               JMP $45C0
                             ; expected result: $40 = 0x33
42F9               TEST05    
42F9  A9 35                  LDA #$35
42FB  AA                     TAX
42FC  CA                     DEX
42FD  CA                     DEX
42FE  E8                     INX
42FF  8A                     TXA
4300  A8                     TAY
4301  88                     DEY
4302  88                     DEY
4303  C8                     INY
4304  98                     TYA
4305  AA                     TAX
4306  A9 20                  LDA #$20
4308  9A                     TXS
4309  A2 10                  LDX #$10
430B  BA                     TSX
430C  8A                     TXA
430D  85 40                  STA $40
                             ; CHECK test05
430F  A5 40                  LDA $40
4311  CD 05 02               CMP $0205
4314  F0 08                  BEQ $431E
4316  A9 05                  LDA #$05
4318  8D 10 02               STA $0210
431B  4C C0 45               JMP $45C0
                             ; expected result: $30 = 9D
431E               TEST06    
                             ; RESET TO CARRY FLAG = 0
431E  2A                     ROL A
431F  A9 6A                  LDA #$6A
4321  85 50                  STA $50
4323  A9 6B                  LDA #$6B
4325  85 51                  STA $51
4327  A9 A1                  LDA #$A1
4329  85 60                  STA $60
432B  A9 A2                  LDA #$A2
432D  85 61                  STA $61
432F  A9 FF                  LDA #$FF
4331  69 FF                  ADC #$FF
4333  69 FF                  ADC #$FF
4335  E9 AE                  SBC #$AE
4337  85 40                  STA $40
4339  A6 40                  LDX $40
433B  75 00                  ADC $00,X
433D  F5 01                  SBC $01,X
433F  65 60                  ADC $60
4341  E5 61                  SBC $61
4343  8D 20 01               STA $0120
4346  A9 4D                  LDA #$4D
4348  8D 21 01               STA $0121
434B  A9 23                  LDA #$23
434D  6D 20 01               ADC $0120
4350  ED 21 01               SBC $0121
4353  85 F0                  STA $F0
4355  A6 F0                  LDX $F0
4357  A9 64                  LDA #$64
4359  8D 24 01               STA $0124
435C  A9 62                  LDA #$62
435E  8D 25 01               STA $0125
4361  A9 26                  LDA #$26
4363  7D 00 01               ADC $0100,X
4366  FD 01 01               SBC $0101,X
4369  85 F1                  STA $F1
436B  A4 F1                  LDY $F1
436D  A9 E5                  LDA #$E5
436F  8D 28 01               STA $0128
4372  A9 E9                  LDA #$E9
4374  8D 29 01               STA $0129
4377  A9 34                  LDA #$34
4379  79 00 01               ADC $0100,Y
437C  F9 01 01               SBC $0101,Y
437F  85 F2                  STA $F2
4381  A6 F2                  LDX $F2
4383  A9 20                  LDA #$20
4385  85 70                  STA $70
4387  A9 01                  LDA #$01
4389  85 71                  STA $71
438B  A9 24                  LDA #$24
438D  85 72                  STA $72
438F  A9 01                  LDA #$01
4391  85 73                  STA $73
4393  61 41                  ADC ($41,X)
4395  E1 3F                  SBC ($3F,X)
4397  85 F3                  STA $F3
4399  A4 F3                  LDY $F3
439B  A9 DA                  LDA #$DA
439D  85 80                  STA $80
439F  A9 00                  LDA #$00
43A1  85 81                  STA $81
43A3  A9 DC                  LDA #$DC
43A5  85 82                  STA $82
43A7  A9 00                  LDA #$00
43A9  85 83                  STA $83
43AB  A9 AA                  LDA #$AA
43AD  71 80                  ADC ($80),Y
43AF  F1 82                  SBC ($82),Y
43B1  85 30                  STA $30
                             ; CHECK test06
43B3  A5 30                  LDA $30
43B5  CD 06 02               CMP $0206
43B8  F0 08                  BEQ $43C2
43BA  A9 06                  LDA #$06
43BC  8D 10 02               STA $0210
43BF  4C C0 45               JMP $45C0
                             ; expected result: $15 = 0x7F
43C2               TEST07    
                             ; prepare memory	
43C2  A9 00                  LDA #$00
43C4  85 34                  STA $34
43C6  A9 FF                  LDA #$FF
43C8  8D 30 01               STA $0130
43CB  A9 99                  LDA #$99
43CD  8D 9D 01               STA $019D
43D0  A9 DB                  LDA #$DB
43D2  8D 99 01               STA $0199
43D5  A9 2F                  LDA #$2F
43D7  85 32                  STA $32
43D9  A9 32                  LDA #$32
43DB  85 4F                  STA $4F
43DD  A9 30                  LDA #$30
43DF  85 33                  STA $33
43E1  A9 70                  LDA #$70
43E3  85 AF                  STA $AF
43E5  A9 18                  LDA #$18
43E7  85 30                  STA $30
                             ; imm
43E9  C9 18                  CMP #$18
43EB  F0 02                  BEQ $43EF ; taken
43ED  29 00                  AND #$00 ; not done
43EF               BEQ1      
                             ; zpg
43EF  09 01                  ORA #$01
43F1  C5 30                  CMP $30
43F3  D0 02                  BNE $43F7 ; taken
43F5  29 00                  AND #$00 ; not done
43F7               BNE1      
                             ; abs
43F7  A2 00                  LDX #$00
43F9  CD 30 01               CMP $0130
43FC  F0 04                  BEQ $4402 ; not taken
43FE  85 40                  STA $40
4400  A6 40                  LDX $40
4402               BEQ2      
                             ; zpx
4402  D5 27                  CMP $27,X
4404  D0 06                  BNE $440C ; not taken
4406  09 84                  ORA #$84
4408  85 41                  STA $41
440A  A6 41                  LDX $41
440C               BNE2      
                             ; abx
440C  29 DB                  AND #$DB
440E  DD 00 01               CMP $0100,X
4411  F0 02                  BEQ $4415 ; taken
4413  29 00                  AND #$00 ; not done
4415               BEQ3      
                             ; aby
4415  85 42                  STA $42
4417  A4 42                  LDY $42
4419  29 00                  AND #$00
441B  D9 00 01               CMP $0100,Y
441E  D0 02                  BNE $4422 ; taken
4420  09 0F                  ORA #$0F ; not done
4422               BNE3      
                             ; idx
4422  85 43                  STA $43
4424  A6 43                  LDX $43
4426  09 24                  ORA #$24
4428  C1 40                  CMP ($40,X)
442A  F0 02                  BEQ $442E ; not taken
442C  09 7F                  ORA #$7F
442E               BEQ4      
                             ; idy
442E  85 44                  STA $44
4430  A4 44                  LDY $44
4432  49 0F                  EOR #$0F
4434  D1 33                  CMP ($33),Y
4436  D0 04                  BNE $443C ; not taken
4438  A5 44                  LDA $44
443A  85 15                  STA $15
443C               BNE4      
                             ; CHECK test07
443C  A5 15                  LDA $15
443E  CD 07 02               CMP $0207
4441  F0 08                  BEQ $444B
4443  A9 07                  LDA #$07
4445  8D 10 02               STA $0210
4448  4C C0 45               JMP $45C0
                             ; expected result: $42 = 0xA5
444B               TEST08    
                             ; prepare memory
444B  A9 A5                  LDA #$A5
444D  85 20                  STA $20
444F  8D 20 01               STA $0120
4452  A9 5A                  LDA #$5A
4454  85 21                  STA $21
                             ; cpx imm...
4456  A2 A5                  LDX #$A5
4458  E0 A5                  CPX #$A5
445A  F0 02                  BEQ $445E ; taken
445C  A2 01                  LDX #$01 ; not done
445E               B1        
                             ; cpx zpg...
445E  E4 20                  CPX $20
4460  F0 02                  BEQ $4464 ; taken
4462  A2 02                  LDX #$02 ; not done
4464               B2        
                             ; cpx abs...
4464  EC 20 01               CPX $0120
4467  F0 02                  BEQ $446B ; taken
4469  A2 03                  LDX #$03 ; not done
446B               B3        
                             ; cpy imm...
446B  86 30                  STX $30
446D  A4 30                  LDY $30
446F  C0 A5                  CPY #$A5
4471  F0 02                  BEQ $4475 ; taken
4473  A0 04                  LDY #$04 ; not done
4475               B4        
                             ; cpy zpg...
4475  C4 20                  CPY $20
4477  F0 02                  BEQ $447B ; taken
4479  A0 05                  LDY #$05 ; not done
447B               B5        
                             ; cpy abs...
447B  CC 20 01               CPY $0120
447E  F0 02                  BEQ $4482 ; taken
4480  A0 06                  LDY #$06 ; not done
4482               B6        
                             ; bit zpg...
4482  84 31                  STY $31
4484  A5 31                  LDA $31
4486  24 20                  BIT $20
4488  D0 02                  BNE $448C ; taken
448A  A9 07                  LDA #$07 ; not done
448C               B7        
                             ; bit abs...
448C  2C 20 01               BIT $0120
448F  D0 02                  BNE $4493 ; taken
4491  A9 08                  LDA #$08 ; not done
4493               B8        
4493  24 21                  BIT $21
4495  D0 02                  BNE $4499 ; not taken
4497  85 42                  STA $42
4499               B9        
                             ; CHECK test08
4499  A5 42                  LDA $42
449B  CD 08 02               CMP $0208
449E  F0 08                  BEQ $44A8
44A0  A9 08                  LDA #$08
44A2  8D 10 02               STA $0210
44A5  4C C0 45               JMP $45C0
                             ; expected result: $80 = 0x1F
44A8               TEST09    
                             ; prepare memory
44A8  A9 54                  LDA #$54
44AA  85 32                  STA $32
44AC  A9 B3                  LDA #$B3
44AE  85 A1                  STA $A1
44B0  A9 87                  LDA #$87
44B2  85 43                  STA $43
                             ; BPL
44B4  A2 A1                  LDX #$A1
44B6  10 02                  BPL $44BA ; not taken
44B8  A2 32                  LDX #$32
44BA               BPL1      
44BA  B4 00                  LDY $00,X
44BC  10 04                  BPL $44C2 ; taken
44BE  A9 05                  LDA #$05 ; not done
44C0  A6 A1                  LDX $A1 ; not done
44C2               BPL2      
                             ; BMI
44C2  30 02                  BMI $44C6 ; not taken
44C4  E9 03                  SBC #$03
44C6               BMI1      
44C6  30 02                  BMI $44CA ; taken
44C8  A9 41                  LDA #$41 ; not done
44CA               BMI2      
                             ; BVC
44CA  49 30                  EOR #$30
44CC  85 32                  STA $32
44CE  75 00                  ADC $00,X
44D0  50 02                  BVC $44D4 ; not taken
44D2  A9 03                  LDA #$03
44D4               BVC1      
44D4  85 54                  STA $54
44D6  B6 00                  LDX $00,Y
44D8  75 51                  ADC $51,X
44DA  50 02                  BVC $44DE ; taken
44DC  A9 E5                  LDA #$E5 ; not done
44DE               BVC2      
                             ; BVS
44DE  75 40                  ADC $40,X
44E0  70 05                  BVS $44E7 ; not taken
44E2  99 01 00               STA $0001,Y
44E5  65 55                  ADC $55
44E7               BVS1      
44E7  70 02                  BVS $44EB ; taken
44E9  A9 00                  LDA #$00
44EB               BVS2      
                             ; BCC
44EB  69 F0                  ADC #$F0
44ED  90 04                  BCC $44F3 ; not taken
44EF  85 60                  STA $60
44F1  65 43                  ADC $43
44F3               BCC1      
44F3  90 02                  BCC $44F7 ; taken
44F5  A9 FF                  LDA #$FF
44F7               BCC2      
                             ; BCS
44F7  65 54                  ADC $54
44F9  B0 04                  BCS $44FF ; not taken
44FB  69 87                  ADC #$87
44FD  A6 60                  LDX $60
44FF               BCS1      
44FF  B0 02                  BCS $4503 ; taken
4501  A9 00                  LDA #$00 ; not done
4503               BCS2      
4503  95 73                  STA $73,X
                             ; CHECK test09
4505  A5 80                  LDA $80
4507  CD 09 02               CMP $0209
450A  F0 08                  BEQ $4514
450C  A9 09                  LDA #$09
450E  8D 10 02               STA $0210
4511  4C C0 45               JMP $45C0
                             ; expected result: $30 = 0xCE
4514               TEST10    
                             ; RESET TO CARRY = 0 & OVERFLOW = 0
4514  69 00                  ADC #$00
4516  A9 99                  LDA #$99
4518  69 87                  ADC #$87
451A  18                     CLC
451B  EA                     NOP
451C  90 04                  BCC $4522 ; taken
451E  69 60                  ADC #$60 ; not done
4520  69 93                  ADC #$93 ; not done
4522               T10BCC1   
4522  38                     SEC
4523  EA                     NOP
4524  90 01                  BCC $4527 ; not taken
4526  B8                     CLV
4527               T10BCC2   
4527  50 02                  BVC $452B ; taken
4529  A9 00                  LDA #$00 ; not done
452B               T10BVC1   
452B  69 AD                  ADC #$AD
452D  EA                     NOP
452E  85 30                  STA $30
                             ; CHECK test10
4530  A5 30                  LDA $30
4532  CD 0A 02               CMP $020A
4535  F0 08                  BEQ $453F
4537  A9 0A                  LDA #$0A
4539  8D 10 02               STA $0210
453C  4C C0 45               JMP $45C0
                             ; expected result: $30 = 0x29
453F               TEST11    
                             ; RESET TO CARRY = 0 & ZERO = 0
453F  69 01                  ADC #$01
4541  A9 27                  LDA #$27
4543  69 01                  ADC #$01
4545  38                     SEC
4546  08                     PHP
4547  18                     CLC
4548  28                     PLP
4549  69 00                  ADC #$00
454B  48                     PHA
454C  A9 00                  LDA #$00
454E  68                     PLA
454F  85 30                  STA $30
                             ; CHECK test11
4551  A5 30                  LDA $30
4553  CD 0B 02               CMP $020B
4556  F0 08                  BEQ $4560
4558  A9 0B                  LDA #$0B
455A  8D 10 02               STA $0210
455D  4C C0 45               JMP $45C0
                             ; expected result: $33 = 0x42
4560               TEST12    
4560  18                     CLC
4561  A9 42                  LDA #$42
4563  90 04                  BCC $4569
4565  85 33                  STA $33
4567  B0 0A                  BCS $4573
4569               RUNSTUFF  
4569  A9 45                  LDA #$45
456B  48                     PHA
456C  A9 61                  LDA #$61
456E  48                     PHA
456F  38                     SEC
4570  08                     PHP
4571  18                     CLC
4572  40                     RTI
4573               T12END    
                             ; CHECK test12
4573  A5 33                  LDA $33
4575  CD 0C 02               CMP $020C
4578  F0 08                  BEQ $4582
457A  A9 0C                  LDA #$0C
457C  8D 10 02               STA $0210
457F  4C C0 45               JMP $45C0
                             ; expected result: $21 = 0x6C (simulator)
                             ;                  $21 = 0x0C (ours)
4582               TEST13    
                             ; RESET TO CARRY = 0 & ZERO = 0
4582  69 01                  ADC #$01
4584  78                     SEI
4585  F8                     SED
4586  08                     PHP
4587  68                     PLA
4588  85 20                  STA $20
458A  58                     CLI
458B  D8                     CLD
458C  08                     PHP
458D  68                     PLA
458E  65 20                  ADC $20
4590  85 21                  STA $21
                             ; CHECK test13
4592  A5 21                  LDA $21
4594  CD 0D 02               CMP $020D
4597  F0 08                  BEQ $45A1
4599  A9 0D                  LDA #$0D
459B  8D 10 02               STA $0210
459E  4C C9 45               JMP $45C9
                             ; expect result: $60 = 0x42
45A1               TEST14    
45A1  4C A9 45               JMP $45A9
45A4               ISR       
45A4  A9 41                  LDA #$41
45A6  85 60                  STA $60
45A8  40                     RTI
45A9               PASS_INT  
45A9  A9 FF                  LDA #$FF
45AB  85 60                  STA $60
45AD  00                     BRK
45AE  45                     .BYTE $45
45AF  E6 60                  INC $60
                             ; CHECK test14
45B1  A5 60                  LDA $60
45B3  CD 0E 02               CMP $020E
45B6  F0 08                  BEQ $45C0
45B8  A9 0E                  LDA #$0E
45BA  8D 10 02               STA $0210
45BD  4C D8 45               JMP $45D8
45C0               SUITEAFI  
                             ; IF $0210 == 0xFE, INCREMENT
                             ; (checking that it didn't 
                             ;  happen to wander off and 
                             ;  not run our instructions
                             ;  to say which tests failed...)
45C0  A9 FE                  LDA #$FE
45C2  CD 10 02               CMP $0210
45C5  D0 11                  BNE $45D8
45C7  EE 10 02               INC $0210
45CA  A2 00                  LDX #$00
45CC               SUCCESS   
45CC  BD DB 45               LDA $45DB,X
45CF  F0 07                  BEQ $45D8
45D1  8D 01 F0               STA $F001
45D4  E8                     INX
45D5  4C CC 45               JMP $45CC
45D8               THEEND    
45D8  4C D8 45               JMP $45D8
45DB               SUCCTEXT  
45DB  41 6C 6C               .TEXT "All
45DD  20 74 65               .TEXT " te
45E0  73 74 73               .TEXT "sts
45E3  20 70 61               .TEXT " pa
45E6  73 73 65               .TEXT "sse
45E9  64 21                  .TEXT "d!"
45EC  0A                     .BYTE $0A
